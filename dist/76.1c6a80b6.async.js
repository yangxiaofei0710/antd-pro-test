webpackJsonp([76],{845:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=a(54),s=r(d),u=a(211),n=r(u),o=a(369),i=r(o),l=a(8),c=r(l);a(370);var p=a(371),f=a(344),v=function(e){return e.value};t.default={namespace:"projectAdd",state:{searchFormFields:{project_name:{value:void 0},department_id:{value:void 0},supervisor_id:{value:void 0},product_manager_id:{value:void 0},ops_user_id:{value:void 0},develop_user_id:{value:void 0},test_user_id:{value:void 0},other_user_id:{value:void 0},desc:{value:void 0},git_name:{value:void 0},iscreate:{value:!0}},organizeTree:[],gitList:[]},effects:{projectAdd:n.default.mark(function e(t,a){var r,d,s,u,o,l=t.payload,_=a.call,y=a.put,m=a.select;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(function(e){return e.projectAdd});case 2:return r=e.sent,d=(0,f.objKeyWrapper)(r.searchFormFields,v),e.next=6,m(function(e){return e.projectList});case 6:return s=e.sent,u=(0,f.objKeyWrapper)(s.searchFormFields,v),e.next=10,y({type:"projectInfo/changeLoading",payload:!0});case 10:if(o=null,"edit"!=l.type){e.next=17;break}return e.next=14,_(p.editProject,(0,c.default)({},d,{id:l.id}));case 14:o=e.sent,e.next=20;break;case 17:return e.next=19,_(p.addProject,(0,c.default)({},d));case 19:o=e.sent;case 20:if(200!==o.code){e.next=28;break}return i.default.success("\u4fdd\u5b58\u6210\u529f"),e.next=24,y({type:"projectList/reste",payload:{serviceName:{value:void 0},createTime:{value:void 0}}});case 24:return e.next=26,y({type:"projectList/fetch",payload:(0,c.default)({},u,{page:"edit"==l.type?s.listInfo.pagination.current:1,page_size:s.listInfo.pagination.pageSize})});case 26:return e.next=28,y({type:"projectList/changeModalBol",payload:!1});case 28:return e.next=30,y({type:"projectInfo/changeLoading",payload:!1});case 30:case"end":return e.stop()}},e,this)}),resetFiledsValue:n.default.mark(function e(t,a){var r=t.payload,d=a.put;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({type:"projectInfo/reste"});case 2:return e.next=4,d({type:"reset",payload:r});case 4:case"end":return e.stop()}},e,this)}),fetchGitList:n.default.mark(function e(t,a){var r,d=(t.payload,a.call),s=a.put;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(p.fetchGitList);case 2:if(r=e.sent,200!=r.code){e.next=6;break}return e.next=6,s({type:"saveGitList",payload:r.data});case 6:case"end":return e.stop()}},e,this)})},reducers:{formFieldChange:function(e,t){return(0,c.default)({},e,{searchFormFields:(0,c.default)({},e.searchFormFields,t.payload)})},setFormValue:function(e,t){return(0,c.default)({},e,{searchFormFields:(0,c.default)({project_name:{value:t.payload.project_name}},{department_id:{value:t.payload.department_id}},{supervisor_id:{value:t.payload.supervisor_id}},{product_manager_id:{value:t.payload.product_manager_id}},{ops_user_id:{value:t.payload.ops_user_id}},{develop_user_id:{value:t.payload.develop_user_id}},{test_user_id:{value:t.payload.test_user_id}},{other_user_id:{value:t.payload.other_user_id}},{desc:{value:t.payload.desc}},{git_name:{value:t.payload.git_name}},{iscreate:{value:t.payload.iscreate}})})},changeSelectPer:function(e,t){var a=t.payload;return(0,c.default)({},e,{searchFormFields:(0,c.default)({},e.searchFormFields,(0,s.default)({},""+a.selectType,{value:a.user_ids}))})},reset:function(e,t){return(0,c.default)({},e,{searchFormFields:(0,c.default)({},t.payload.searchFormFields)})},saveGitList:function(e,t){return(0,c.default)({},e,{gitList:t.payload})}}},e.exports=t.default}});