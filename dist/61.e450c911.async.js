webpackJsonp([61],{1311:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGitList=t.dowmloadService=t.deleteService=t.fetchDataDictionary=t.updateService=t.addService=t.serviceInfoList=t.fetchServicelist=void 0;var n=a(211),u=r(n),o=a(8),i=r(o),d=a(368),c=r(d),s=(t.fetchServicelist=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/resources/module/list",{method:"POST",body:(0,i.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.serviceInfoList=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/resources/module/info",{method:"POST",body:(0,i.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.addService=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/resources/module/add",{method:"POST",body:(0,i.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.updateService=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/resources/module/update",{method:"POST",body:(0,i.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.fetchDataDictionary=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/account/user/data_dictionary",{method:"GET"}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.deleteService=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/resources/module/delete",{method:"POST",body:(0,i.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.dowmloadService=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/resources/module/file_download/"+t.files_dir+"/",{method:"POST",body:{file_name:t.file_name}}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.fetchGitList=function(){var e=(0,c.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/resources/module/gitlist",{method:"POST",body:(0,i.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a(376),a(375)),l=r(s)},848:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(211),u=r(n),o=a(369),i=r(o),d=a(8),c=r(d);a(370);var s=a(1311),l=a(344),f=function(e){return e.value};t.default={namespace:"serviceAdd",state:{searchFormFields:{module_tech:{value:void 0},module_name:{value:void 0},module_path:{value:void 0},logs_path:{value:void 0},port:{value:void 0},module_type:{value:void 0},publicservice:{value:void 0},desc:{value:void 0},git_name:{value:void 0},iscreate:{value:void 0},iscolony:{value:void 0}},dataDictionary:{},showModal:!1,gitList:[],gitUrl:void 0},effects:{serviceAdd:u.default.mark(function e(t,a){var r,n,o,d,p,v=t.payload,h=a.call,y=a.put,m=a.select;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(function(e){return e.serviceAdd});case 2:return r=e.sent,n=(0,l.objKeyWrapper)(r.searchFormFields,f),e.next=6,y({type:"serviceInfo/changeLoading",payload:!0});case 6:if(o=null,"edit"!=v.type){e.next=13;break}return e.next=10,h(s.updateService,{desc:n.desc,id:v.id});case 10:o=e.sent,e.next=16;break;case 13:return e.next=15,h(s.addService,(0,c.default)({},n,{project_id:v.project_id,git_url:r.gitUrl}));case 15:o=e.sent;case 16:if(200!==o.code){e.next=26;break}return i.default.success("\u4fdd\u5b58\u6210\u529f"),e.next=20,m(function(e){return e.serviceList});case 20:return d=e.sent,p=(0,l.objKeyWrapper)(d.searchFormFields,f),e.next=24,y({type:"serviceList/loadListData",payload:(0,c.default)({},p,{page:"edit"==v.type?d.listInfo.pagination.current:1,page_size:d.listInfo.pagination.pageSize,project_id:v.project_id})});case 24:return e.next=26,y({type:"changeShowModal",payload:!1});case 26:return e.next=28,y({type:"serviceInfo/changeLoading",payload:!1});case 28:case"end":return e.stop()}},e,this)}),resetFiledsValue:u.default.mark(function e(t,a){var r=t.payload,n=a.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({type:"serviceInfo/reste"});case 2:return e.next=4,n({type:"reset",payload:r});case 4:case"end":return e.stop()}},e,this)}),fetchDataDictionary:u.default.mark(function e(t,a){var r,n=(t.payload,a.call),o=a.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(s.fetchDataDictionary);case 2:if(r=e.sent,200!==r.code){e.next=6;break}return e.next=6,o({type:"saveDataDictionary",payload:r.data});case 6:case"end":return e.stop()}},e,this)}),fetchGitList:u.default.mark(function e(t,a){var r,n=t.payload,o=a.call,i=a.put;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(s.fetchGitList,(0,c.default)({},n));case 2:if(r=e.sent,200!=r.code){e.next=6;break}return e.next=6,i({type:"saveGitList",payload:r.data});case 6:case"end":return e.stop()}},e,this)})},reducers:{formFieldChange:function(e,t){return(0,c.default)({},e,{searchFormFields:(0,c.default)({},e.searchFormFields,t.payload)})},saveDataDictionary:function(e,t){return(0,c.default)({},e,{dataDictionary:(0,c.default)({},t.payload)})},setFormValue:function(e,t){return(0,c.default)({},e,{searchFormFields:(0,c.default)({module_tech:{value:t.payload.module_tech}},{module_name:{value:t.payload.module_name}},{module_path:{value:t.payload.module_path}},{logs_path:{value:t.payload.logs_path}},{port:{value:t.payload.port}},{module_type:{value:t.payload.module_type}},{publicservice:{value:!!t.payload.publicservice}},{desc:{value:t.payload.desc}},{git_name:{value:t.payload.git_name}},{iscreate:{value:t.payload.iscreate}},{iscolony:{value:t.payload.iscolony}})})},reset:function(e,t){return(0,c.default)({},e,{searchFormFields:(0,c.default)({},t.payload.searchFormFields)})},changeShowModal:function(e,t){return(0,c.default)({},e,{showModal:t.payload})},saveGitList:function(e,t){return(0,c.default)({},e,{gitList:t.payload})},saveGitUrl:function(e,t){return(0,c.default)({},e,{gitUrl:t.payload})}}},e.exports=t.default}});