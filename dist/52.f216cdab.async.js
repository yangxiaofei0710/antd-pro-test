webpackJsonp([52],{1440:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addService=t.release=t.recover=t.stopService=t.getServiceInfo=t.getVpc=t.basicdict=t.queryServiceList=void 0;var n=a(211),u=r(n),o=a(8),c=r(o),s=a(368),i=r(s),d=(t.queryServiceList=function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/server/list",{method:"POST",body:(0,c.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.basicdict=function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/server/basicdict",{method:"GET"}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getVpc=function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/server/vpc",{method:"GET"}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getServiceInfo=function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/server/detail",{method:"POST",body:(0,c.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.stopService=function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/server/stop",{method:"POST",body:(0,c.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.recover=function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/server/recover",{method:"POST",body:(0,c.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.release=function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/server/release",{method:"POST",body:(0,c.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.addService=function(){var e=(0,i.default)(u.default.mark(function e(t){return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,l.default)("/server/add",{method:"POST",body:(0,c.default)({},t)}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a(376),a(375)),l=r(d)},861:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(369),u=r(n),o=a(211),c=r(o),s=a(8),i=r(s),d=a(354),l=r(d);a(370);var f=a(1440),p=a(344),v=function(e){return e.value},y=function(e){var t={};return(0,l.default)(e).forEach(function(a,r){void 0!==e[a]&&(t[a]=e[a])}),t};t.default={namespace:"serviceManage",state:{searchFormFields:{role_name:{value:void 0}},listInfo:{list:[],pagination:{current_page:1,pageSize:20,total:0},isLoading:!1},loading:!1,modalStatus:!1,infoModalStatus:!1,serviceInfo:{},pageSwitchIndex:0,dataDictionary:[],selectedRowKeys:[0],addFormFields:{charging:{value:void 0},cycle:{value:void 0},zone:{value:void 0},config:{value:"1"},image:{value:void 0},vpc_switch:{value:void 0},security:{value:void 0},useoutip:{value:!1},bandtype:{value:void 0},networkband:{value:void 0},loginuser:{value:"root"},loginpassword:{value:void 0},confirmpassword:{value:void 0},name:{value:void 0},comment:{value:void 0}},releaseModal:!1,releaseServiceId:null,isRequired:!1,operateAuthor:{}},effects:{fetchList:c.default.mark(function e(t,a){var r,n,u,o=t.payload,s=a.call,d=a.put,l=a.select;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(function(e){return e.serviceManage});case 2:return r=e.sent,n=(0,p.objKeyWrapper)(r.searchFormFields,v),e.next=6,d({type:"changeLoading",payload:!0});case 6:return e.next=8,s(f.queryServiceList,(0,i.default)({},n,o));case 8:if(u=e.sent,200!=u.code){e.next=12;break}return e.next=12,d({type:"saveList",payload:u.data});case 12:return e.next=14,d({type:"changeLoading",payload:!1});case 14:case"end":return e.stop()}},e,this)}),changeStatus:c.default.mark(function e(t,a){var r=t.payload,n=t.callback,u=(a.call,a.put);return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeModalStatus",payload:r});case 2:return n&&n(),e.next=5,u({type:"savePageSwitchIndex",payload:0});case 5:return e.next=7,u({type:"resetFormValue"});case 7:return e.next=9,u({type:"changeSelectedRowKey",payload:[0]});case 9:case"end":return e.stop()}},e,this)}),pageSwitch:c.default.mark(function e(t,a){var r=t.payload,n=(a.call,a.put);return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({type:"savePageSwitchIndex",payload:r});case 2:case"end":return e.stop()}},e,this)}),fetchDataDictionary:c.default.mark(function e(t,a){var r,n=(t.payload,a.call),u=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(f.basicdict);case 2:if(r=e.sent,200!=r.code){e.next=6;break}return e.next=6,u({type:"saveDataDictionary",payload:r.data[0]});case 6:case"end":return e.stop()}},e,this)}),fetchVpc:c.default.mark(function e(t,a){var r,n=(t.paylaod,a.call),u=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(f.getVpc);case 2:if(r=e.sent,200!=r.code){e.next=6;break}return e.next=6,u({type:"saveDataDictionary",payload:{vpc_switch:r.data}});case 6:case"end":return e.stop()}},e,this)}),changeInfoStatus:c.default.mark(function e(t,a){var r=t.payload,n=t.currentId,u=(a.call,a.put);return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeInfoModalStatus",payload:r});case 2:if(!r){e.next=5;break}return e.next=5,u({type:"fetchServiceInfo",payload:{id:n}});case 5:case"end":return e.stop()}},e,this)}),fetchServiceInfo:c.default.mark(function e(t,a){var r,n=t.payload,u=a.call,o=a.put;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o({type:"changeInfoLoading",payload:!0});case 2:return e.next=4,u(f.getServiceInfo,(0,i.default)({},n));case 4:if(r=e.sent,200!=r.code){e.next=8;break}return e.next=8,o({type:"saveServiceInfo",payload:r.data});case 8:return e.next=10,o({type:"changeInfoLoading",payload:!1});case 10:case"end":return e.stop()}},e,this)}),stopService:c.default.mark(function e(t,a){var r,n,o,s=t.payload,d=a.call,l=a.put,y=a.select;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(function(e){return e.serviceManage});case 2:return r=e.sent,n=(0,p.objKeyWrapper)(r.searchFormFields,v),e.next=6,d(f.stopService,(0,i.default)({},s));case 6:if(o=e.sent,200!=o.code){e.next=11;break}return u.default.success("\u505c\u7528\u6210\u529f"),e.next=11,l({type:"fetchList",payload:(0,i.default)({},n,{current_page:r.listInfo.pagination.current_page,page_size:r.listInfo.pagination.pageSize})});case 11:case"end":return e.stop()}},e,this)}),recoverService:c.default.mark(function e(t,a){var r,n,o,s=t.payload,d=a.call,l=a.put,y=a.select;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(function(e){return e.serviceManage});case 2:return r=e.sent,n=(0,p.objKeyWrapper)(r.searchFormFields,v),e.next=6,d(f.recover,(0,i.default)({},s));case 6:if(o=e.sent,200!=o.code){e.next=11;break}return u.default.success("\u542f\u7528\u6210\u529f"),e.next=11,l({type:"fetchList",payload:(0,i.default)({},n,{current_page:r.listInfo.pagination.current_page,page_size:r.listInfo.pagination.pageSize})});case 11:case"end":return e.stop()}},e,this)}),saveReleaseServiceId:c.default.mark(function e(t,a){var r=t.payload,n=t.bol,u=(a.call,a.put);a.select;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({type:"changeReleaseModal",payload:n});case 2:return e.next=4,u({type:"saveRelSerId",payload:r.id});case 4:case"end":return e.stop()}},e,this)}),releaseService:c.default.mark(function e(t,a){var r,n,o,s=t.payload,d=a.call,l=a.put,y=a.select;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(function(e){return e.serviceManage});case 2:return r=e.sent,n=(0,p.objKeyWrapper)(r.searchFormFields,v),e.next=6,l({type:"changeInfoLoading",payload:!0});case 6:return e.next=8,d(f.release,(0,i.default)({},s));case 8:if(o=e.sent,200!=o.code){e.next=15;break}return u.default.success("\u91ca\u653e\u6210\u529f"),e.next=13,l({type:"fetchList",payload:(0,i.default)({},n,{current_page:r.listInfo.pagination.current_page,page_size:r.listInfo.pagination.pageSize})});case 13:return e.next=15,l({type:"changeReleaseModal",payload:!1});case 15:return e.next=17,l({type:"changeInfoLoading",payload:!1});case 17:case"end":return e.stop()}},e,this)}),addService:c.default.mark(function e(t,a){var r,n,o,s,d,l=t.payload,h=t.callback,g=a.put,x=a.call,m=a.select;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(function(e){return e.serviceManage});case 2:return r=e.sent,n=(0,p.objKeyWrapper)(r.searchFormFields,v),o=(0,p.objKeyWrapper)(r.addFormFields,v),s=y(o),e.next=8,g({type:"changeInfoLoading",payload:!0});case 8:return e.next=10,x(f.addService,(0,i.default)({},s,l));case 10:if(d=e.sent,200!=d.code){e.next=17;break}return u.default.success("\u65b0\u589e\u6210\u529f"),e.next=15,g({type:"fetchList",payload:(0,i.default)({},n,{current_page:1,page_size:r.listInfo.pagination.pageSize})});case 15:return e.next=17,g({type:"changeStatus",payload:!1,callback:h});case 17:return e.next=19,g({type:"changeInfoLoading",payload:!1});case 19:case"end":return e.stop()}},e,this)})},reducers:{saveList:function(e,t){return(0,i.default)({},e,{listInfo:(0,i.default)({},e.listInfo,{list:t.payload.msgdata},{pagination:{current_page:t.payload.current_page,total:t.payload.total,pageSize:t.payload.page_size}}),operateAuthor:t.payload.permissions})},changeModalStatus:function(e,t){return(0,i.default)({},e,{modalStatus:t.payload})},changeInfoModalStatus:function(e,t){return(0,i.default)({},e,{infoModalStatus:t.payload})},savePageSwitchIndex:function(e,t){return(0,i.default)({},e,{pageSwitchIndex:t.payload})},formFieldChange:function(e,t){var a=t.payload;return(0,i.default)({},e,{searchFormFields:(0,i.default)({},e.searchFormFields,a)})},addFormFieldChange:function(e,t){var a=t.payload;return(0,i.default)({},e,{addFormFields:(0,i.default)({},e.addFormFields,a)})},saveDataDictionary:function(e,t){return(0,i.default)({},e,{dataDictionary:(0,i.default)({},e.dataDictionary,t.payload)})},changeLoading:function(e,t){return(0,i.default)({},e,{listInfo:(0,i.default)({},e.listInfo,{isLoading:t.payload})})},changeSelectedRowKey:function(e,t){return(0,i.default)({},e,{selectedRowKeys:t.payload})},resetFormValue:function(e,t){return(0,i.default)({},e,{addFormFields:{charging:{value:void 0},cycle:{value:void 0},zone:{value:void 0},config:{value:"1"},image:{value:void 0},vpc_switch:{value:void 0},security:{value:void 0},bandtype:{value:void 0},useoutip:{value:!1},networkband:{value:void 0},loginuser:{value:"root"},loginpassword:{value:void 0},confirmpassword:{value:void 0},name:{value:void 0},comment:{value:void 0}}})},changeInfoLoading:function(e,t){return(0,i.default)({},e,{loading:t.payload})},saveServiceInfo:function(e,t){return(0,i.default)({},e,{serviceInfo:t.payload})},changeReleaseModal:function(e,t){return(0,i.default)({},e,{releaseModal:t.payload})},saveRelSerId:function(e,t){return(0,i.default)({},e,{releaseServiceId:t.payload})},saveIsRequired:function(e,t){return(0,i.default)({},e,{isRequired:t.payload})}}},e.exports=t.default}});